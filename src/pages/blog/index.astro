---
/**
 * 文章列表页
 */
import BlogList from '../../components/BlogList';
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { getAllPostSummaries, getUniqueTags } from '../../utils/posts';

// 获取所有文章
const posts = await getCollection('blog');
const allPosts = getAllPostSummaries(posts);

// 获取所有标签
const uniqueTags = getUniqueTags(allPosts);
---

<BaseLayout title="文章 - DESIGNER.BLOG" description="我的技术博客">
  <BlogList client:idle posts={allPosts} tags={uniqueTags} />
</BaseLayout>
